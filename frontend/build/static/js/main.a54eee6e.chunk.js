(this["webpackJsonpschedule-cleaner"]=this["webpackJsonpschedule-cleaner"]||[]).push([[0],{95:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(9),s=a.n(r),l=a(55),i=a(19),j=a(145),d=a(149),o=a(146),u=a(97),b=a(154),h=a(150),x=a(129),O=a(52),p=a(40),f=a(127),m=Object(f.a)((function(e){return{header:{backgroundColor:e.palette.background.paper,padding:e.spacing(2,0,2),display:"flex",justifyContent:"center",alignItems:"center"},headerImg:{width:150,backgroundColor:e.palette.primary.dark,borderRadius:20},headerText:Object(p.a)({maxWidth:410,minWidth:410},e.breakpoints.down("xs"),{textAlign:"center",minWidth:"auto"})}})),g=a(4);function v(){var e=m();return Object(g.jsx)(d.a,{p:2,children:Object(g.jsxs)(x.a,{className:e.header,container:!0,spacing:4,children:[Object(g.jsx)(x.a,{item:!0,children:Object(g.jsx)("img",{className:e.headerImg,src:"assets/scheduleCleaner.svg",alt:"Schedule Cleaner"})}),Object(g.jsx)(x.a,{item:!0,className:e.headerText,children:Object(g.jsx)(O.a,{variant:"h5",color:"textSecondary",children:"Filter unnecessary junk from your NAK Schedule."})})]})})}var y=a(141),C=a(135),k=a(148),S=a(142),I=a(131),R=a(98),N=a(134),T=a(144),A=a(136),E=a(152),w=a(20),F=a(132),W=a(137),L=a(139),U=a(151),z=a(74);function H(){return Object(g.jsxs)(z.a,{children:[Object(g.jsx)("path",{d:"M0,0h24 M24,24H0",fill:"none"}),Object(g.jsx)("path",{d:"M4.25,5.61C6.27,8.2,10,13,10,13v6c0,0.55,0.45,1,1,1h2c0.55,0,1-0.45,1-1v-6c0,0,3.72-4.8,5.74-7.39 C20.25,4.95,19.78,4,18.95,4H5.04C4.21,4,3.74,4.95,4.25,5.61z"}),Object(g.jsx)("path",{d:"M0,0h24v24H0V0z",fill:"none"})]})}var M=a(133),B=a(138),P=/([a-zA-Z][0-9]{2}[a-zA-Z])/,_=/[0-9]/,q={centuria:function(e){return P.test(e)},semester:function(e){return _.test(e)},excludeText:function(e){return!e.includes(";")},replaceText:function(e){return!e.includes(";")}},D=Object(f.a)((function(e){return{divider:{margin:"10px 0px"},listInput:{marginRight:10},listSubheader:{display:"flex",justifyContent:"space-between",alignItems:"center"}}}));function J(e){var t=D();return Object(g.jsx)(I.a,{subheader:Object(g.jsxs)(F.a,{className:t.listSubheader,children:["Exclude subjects that contain",Object(g.jsx)(u.a,{variant:"outlined",startIcon:Object(g.jsx)(M.a,{}),onClick:function(t){return e.setExclude([].concat(Object(w.a)(e.exclude),[{id:Object(U.a)(),text:""}]))},children:"Add"})]}),children:e.exclude.map((function(a,c){return Object(g.jsxs)(n.a.Fragment,{children:[Object(g.jsxs)(R.a,{children:[Object(g.jsx)(N.a,{children:Object(g.jsx)(H,{})}),Object(g.jsx)(k.a,{margin:"dense",variant:"outlined",value:a.text,error:!q.excludeText(a.text),label:"text",fullWidth:!0,className:t.listInput,onChange:function(t){var a=Object(w.a)(e.exclude);a[c].text=t.target.value,e.setExclude(a)}}),Object(g.jsx)(A.a,{children:Object(g.jsx)(W.a,{edge:"end",onClick:function(t){var a=Object(w.a)(e.exclude);a.splice(c,1),e.setExclude(a)},children:Object(g.jsx)(B.a,{})})})]}),Object(g.jsx)(L.a,{className:t.divider})]},a.id)}))})}var Z=a(140);function G(e){var t=D();return Object(g.jsx)(I.a,{subheader:Object(g.jsxs)(F.a,{className:t.listSubheader,children:["Replace subject titles",Object(g.jsx)(u.a,{variant:"outlined",startIcon:Object(g.jsx)(M.a,{}),onClick:function(t){return e.setReplace([].concat(Object(w.a)(e.replace),[{before:"",after:"",id:Object(U.a)()}]))},children:"Add"})]}),children:e.replace.map((function(a,c){return Object(g.jsxs)(n.a.Fragment,{children:[Object(g.jsxs)(R.a,{children:[Object(g.jsx)(N.a,{children:Object(g.jsx)(Z.a,{})}),Object(g.jsx)(k.a,{margin:"dense",variant:"outlined",label:"Before",error:!q.replaceText(a.before),onChange:function(t){var a=Object(w.a)(e.replace);a[c].before=t.target.value,e.setReplace(a)},children:a.before}),Object(g.jsx)("div",{style:{marginRight:10}}),Object(g.jsx)(k.a,{margin:"dense",variant:"outlined",label:"After",className:t.listInput,error:!q.replaceText(a.after),onChange:function(t){var a=Object(w.a)(e.replace);a[c].after=t.target.value,e.setReplace(a)},children:a.after}),Object(g.jsx)(A.a,{children:Object(g.jsx)(W.a,{edge:"end",onClick:function(t){var a=Object(w.a)(e.replace);a.splice(c,1),e.setReplace(a)},children:Object(g.jsx)(B.a,{})})})]}),Object(g.jsx)(L.a,{className:t.divider})]},a.id)}))})}var K=a(51);var V=a(143),Q=[1,2,3,4,5,6,7];function X(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),l=Object(i.a)(s,2),j=l[0],o=l[1],u=Object(c.useState)([{id:Object(U.a)(),text:""}]),b=Object(i.a)(u,2),h=b[0],p=b[1],f=Object(c.useState)([{before:"",after:"",id:Object(U.a)()}]),m=Object(i.a)(f,2),v=m[0],w=m[1],F=Object(c.useState)(!0),W=Object(i.a)(F,2),L=W[0],z=W[1];return Object(c.useEffect)((function(){e.setIcsURL(function(e,t,a,c,n){if(!q.centuria(e)||!q.semester(t))return null;var r,s=Object(K.a)(a);try{for(s.s();!(r=s.n()).done;){var l=r.value;if(!q.excludeText(l.text))return null}}catch(p){s.e(p)}finally{s.f()}var i,j=Object(K.a)(c);try{for(j.s();!(i=j.n()).done;){var d=i.value;if(!q.replaceText(d.before)||!q.replaceText(d.after))return null}}catch(p){j.e(p)}finally{j.f()}var o=new URL("https://schedule-cleaner.herokuapp.com/cleaned-schedule/".concat(e,"_").concat(t,".ics")),u=a.filter((function(e){return e.text.trim().length>0}));u.length>0&&o.searchParams.append("exclude","".concat(u.map((function(e){return e.text})).join(";")));var b=c.filter((function(e){return e.before.trim().length>0&&e.after.trim().length>0}));if(b.length>0){var h,x=Object(K.a)(b);try{for(x.s();!(h=x.n()).done;){var O=h.value;o.searchParams.append("replace","".concat(O.before,";").concat(O.after))}}catch(p){x.e(p)}finally{x.f()}}return n?(o.searchParams.append("location",""),o.toString().slice(0,-1)):o.toString()}(n,j,h,v,L)),e.setIcsName("".concat(n,"_").concat(j))}),[n,j,h,v,L,e]),Object(g.jsx)(y.a,{maxWidth:"sm",children:Object(g.jsxs)(C.a,{elevation:3,style:{padding:16},children:[Object(g.jsx)(O.a,{align:"center",variant:"h5",color:"textSecondary",children:"Configure your schedule"}),Object(g.jsx)(d.a,{mb:2,mt:1,children:Object(g.jsxs)(x.a,{container:!0,alignItems:"flex-start",spacing:3,children:[Object(g.jsx)(x.a,{item:!0,xs:6,children:Object(g.jsx)(k.a,{margin:"dense",variant:"outlined",label:"Centuria",name:"centuria",fullWidth:!0,required:!0,value:n,error:!q.centuria(n),onChange:function(e){return r(e.target.value)}})}),Object(g.jsx)(x.a,{item:!0,xs:6,children:Object(g.jsx)(k.a,{type:"number",margin:"dense",variant:"outlined",select:!0,label:"Semester",name:"semester",fullWidth:!0,required:!0,value:j,error:!q.semester(j),onChange:function(e){return o(e.target.value.toString())},children:Q.map((function(e){return Object(g.jsx)(S.a,{value:e,children:e},e)}))})})]})}),Object(g.jsx)(J,{exclude:h,setExclude:p}),Object(g.jsx)(G,{replace:v,setReplace:w}),Object(g.jsx)(I.a,{children:Object(g.jsxs)(R.a,{children:[Object(g.jsx)(N.a,{children:Object(g.jsx)(V.a,{})}),Object(g.jsx)(T.a,{children:"Set the room as the event's location"}),Object(g.jsx)(A.a,{children:Object(g.jsx)(E.a,{edge:"end",checked:L,color:"primary",onChange:function(e){return z(e.target.checked)}})})]})})]})})}var Y=a(69),$=a.n(Y);function ee(e,t){var a=document.createElement("a");a.setAttribute("download",t),a.setAttribute("target","_blank"),a.href=e,document.body.appendChild(a),a.click(),a.remove()}var te=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(i.a)(r,2),x=s[0],O=s[1],p=Object(c.useState)({open:!1,status:!1,message:""}),f=Object(i.a)(p,2),m=f[0],y=f[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(j.a,{}),Object(g.jsxs)("main",{children:[Object(g.jsx)(v,{}),Object(g.jsx)(d.a,{display:"flex",justifyContent:"center",alignItems:"center",m:2,children:Object(g.jsxs)(o.a,{children:[Object(g.jsx)(u.a,{color:"primary",disabled:null===a,onClick:function(){return function(e){$()(e)?y({open:!0,status:!0,message:"Copied URL to the clipboard"}):y({open:!0,status:!1,message:"Failed to copy URL to the clipboard"})}(a||"")},children:"Copy URL"}),Object(g.jsx)(u.a,{color:"primary",disabled:null===a,onClick:ee.bind(null,a||"",x),children:"Download ICS"})]})}),Object(g.jsx)(X,{setIcsURL:n,setIcsName:O}),Object(g.jsx)(d.a,{display:"flex",justifyContent:"center",alignItems:"center",m:3,children:Object(g.jsx)(u.a,{href:"https://github.com/jeff-saupe/ScheduleCleaner#%EF%B8%8F-schedule-cleaner",variant:"outlined",color:"primary",children:"This project on Github"})})]}),Object(g.jsx)(b.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:m.open,onClose:function(){return y(Object(l.a)(Object(l.a)({},m),{},{open:!1}))},autoHideDuration:5e3,children:Object(g.jsx)(h.a,{elevation:6,variant:"filled",severity:m.status?"success":"error",children:m.message})})]})},ae=a(71),ce=a(147),ne=a(70),re=a.n(ne),se=Object(ae.a)({palette:{type:"dark",background:{paper:"#34444c",default:"#263238"},primary:re.a}});s.a.render(Object(g.jsxs)(ce.a,{theme:se,children:[Object(g.jsx)(te,{}),Object(g.jsx)("app-naktoolsbadge",{"text-color":se.palette.text.primary,"background-color":se.palette.background.paper})]}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.a54eee6e.chunk.js.map